#### :snail: SQL注意要点
 ##### 如何放sql注入
 例如mybatis如何防止sql注入：在查询语句里面表明类型；用#{}提到${}，因${}会被编译的

 如何进行多个参数进行模糊查询，并且防止sql注入：
                                          <if test="name != null and name != ''">
                                          AND name LIKE "%"#{name}"%"
                                          </if>

                                          或者使用字符串拼接函数
                                           <if test="name != null and name != ''">
                                                          AND name LIKE CONCAT(CONCAT('%',#{name},'%'))
                                           </if>

  #####  JAP如何使用，原理是什么


  ##### 脏读和幻读的区别
   - 脏读是指多个线程同时访问数据，一个线程取到数据修改后还没有提交。另外一个事务访问了这个数据，任何使用了这个数据；
   - 不可重复读：是指一个事务内，多次读同一个数据。在这个事务还没有结束的时候，另外一个事务也访问了该同一个数据。那么在一个事务中的两次读数据之间，由于第二个事务的修改，那么第一个事务两次读到的数据是不是一样的。
   这样就发生了在一个事务一个数据有两个不一天的值，所以说不可重复读；
   - 幻读：幻读是指当前事务不是独立执行的时候发生的一种现象，例如说第一个事务对一个表中的数据进行了修改，这种修改涉及到表中的全部数据行。同时
   ，第二个事务也修改这个表中的数据，这种修改是向表中插入一行新数据。那么，以后就会发生操作第一个事务的用户发现表中还有没有修改的数据行，就好像发生了幻觉一样。


  ##### 存储过程和视图
  - 视图就是虚拟表，不存储数据，存储的是sql，检索它的时候实际上是执行定义它的sql语句。
    create view as select * from table where id='';
    视图的优点：
    1.视图不占实际的空间，可以和任意的表进行叠加和剪裁。
    2.利用分区视图（分区区间 例如说0-1000是一张表，1001-2000是另外一张表）的功能，能加快表的IO读写时间（需要两块以上的硬盘）
  - 存储过程是程序化的sql，可以实现一般sql不能实现的功能。如：先检索一个表得到一些数据，经过一定的编辑后更新到另外一个表中，这就可以用不带参数的存储过程。
     create procedure set_death_age(poet varchar2,poet_age number)
     poet_id number;
     begin select id into poet_id from poets where name='poet';
     insert into deaths(mort_id,age) values(poet_id,poet_age);
     end set_death_age;
     存储过程的优点：
     1.可以在单个存储过程中执行一系列的sql语句；
     2.可以从自己的存储过程内引用其他的存储过程，这可以简化一系列复杂的语句。
     3.存储过程在创建时即在服务器上进行编译，所以执起来比单个sql语句快；




   

